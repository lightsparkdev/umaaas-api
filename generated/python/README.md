# UMA as a Service OpenAPI-generated Python Pydantic Models and Client APIs

This Python package is automatically generated by the [OpenAPI Generator](https://openapi-generator.tech) project:

- API version: 1.0.0
- Generator version: 7.12.0
- Build package: org.openapitools.codegen.languages.PythonClientCodegen

## Requirements

Python >= 3.8+

## Installation & Usage

To install the library, simply run:

```bash
pip install umaaas-api
```

When handling a request, you can do something like:

```python
from umaaas_api.models.user import User
from umaaas_api.models.individual_user import IndividualUser
from umaaas_api.models.business_user import BusinessUser

def handle_create_user():
    try:
        user = User.from_dict(request.get_json())
    except Exception as e:
        abort_with_error(400, f"Invalid request: {e}")

    if isinstance(user, IndividualUser):
        # ... create individual user ...
    elif isinstance(user, BusinessUser):
        # ... create business user ...

    # ... actually create and save the user ...

    return user.to_dict()
```

Note that this library only contains request and response model types to help with type safety and encoding/decoding of requests and responses.
If you want something more custom for a specific API framework, you can generate your own code using the
[OpenAPI Generator CLI](https://openapi-generator.tech/docs/generators).

## Releasing

NOTE: This is temporary until we have a proper release process going to pypi.

This will build the package and upload it to the Lightspark dev s3 bucket.

```bash
cd generated/python

pipenv install --dev

pipenv run python setup.py sdist bdist_wheel

pipenv run s3pypi upload -b lsdev-repo --prefix python --put-root-index dist/*
```
