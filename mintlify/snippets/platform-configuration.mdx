<Info>
Use the `/config` endpoint to view and update your platform configuration.
Authentication: HTTP Basic (client_id as username, client_secret as password).
</Info>

### Retrieve Current Configuration

```http
GET /config
```

<ResponseExample>
```json Success
{
  "id": "PlatformConfig:019542f5-b3e7-1d02-0000-000000000003",
  "umaDomain": "example.com",
  "proxyUmaSubdomain": "example",
  "webhookEndpoint": "https://api.example.com/webhooks/uma",
  "supportedCurrencies": [
    {
      "currencyCode": "USD",
      "minAmount": 100,
      "maxAmount": 1000000,
      "requiredCounterpartyFields": [
        { "name": "FULL_NAME", "mandatory": true },
        { "name": "BIRTH_DATE", "mandatory": true }
      ],
      "enabledTransactionTypes": ["OUTGOING", "INCOMING"],
      "umaProviderRequiredCustomerFields": [
        "NATIONALITY",
        "BIRTH_DATE"
      ],
      "umaProviderRequiredCounterpartyCustomerFields": [
        "FULL_NAME",
        "COUNTRY_OF_RESIDENCE"
      ]
    }
  ],
  "isRegulatedFinancialInstitution": false,
  "createdAt": "2023-06-15T12:30:45Z",
  "updatedAt": "2023-07-01T10:00:00Z"
}
```
</ResponseExample>

<Note>
If this is your first time configuring the platform, some default values may be returned which were set up when you first created your account.
</Note>

### Update Platform Configuration

```http
PATCH /config
```

<RequestExample>
```json Request body
{
  "umaDomain": "mycompany.com",
  "webhookEndpoint": "https://api.mycompany.com/webhooks/uma",
  "supportedCurrencies": [
    {
      "currencyCode": "USD",
      "minAmount": 100,
      "maxAmount": 1000000,
      "enabledTransactionTypes": ["OUTGOING", "INCOMING"],
      "requiredCounterpartyFields": [
        { "name": "FULL_NAME", "mandatory": true },
        { "name": "BIRTH_DATE", "mandatory": true },
        { "name": "ADDRESS", "mandatory": false }
      ]
    }
  ]
}
```
</RequestExample>

<ResponseExample>
```json Success
{
  "id": "PlatformConfig:019542f5-b3e7-1d02-0000-000000000003",
  "umaDomain": "mycompany.com",
  "proxyUmaSubdomain": "mycompany",
  "webhookEndpoint": "https://api.mycompany.com/webhooks/uma",
  "supportedCurrencies": [
    {
      "currencyCode": "USD",
      "minAmount": 100,
      "maxAmount": 1000000,
      "requiredCounterpartyFields": [
        { "name": "FULL_NAME", "mandatory": true },
        { "name": "BIRTH_DATE", "mandatory": true },
        { "name": "ADDRESS", "mandatory": false }
      ],
      "enabledTransactionTypes": ["OUTGOING", "INCOMING"],
      "umaProviderRequiredCustomerFields": [
        "NATIONALITY",
        "BIRTH_DATE"
      ],
      "umaProviderRequiredCounterpartyCustomerFields": [
        "FULL_NAME",
        "COUNTRY_OF_RESIDENCE"
      ]
    }
  ],
  "isRegulatedFinancialInstitution": false,
  "createdAt": "2023-06-15T12:30:45Z",
  "updatedAt": "2023-06-15T12:30:45Z"
}
```
</ResponseExample>

<Tip>
Fields such as `id`, `createdAt`, `updatedAt`, `isRegulatedFinancialInstitution`, and `proxyUmaSubdomain` are read-only and returned by GET responses; they cannot be modified via PATCH. The arrays `umaProviderRequiredCustomerFields` and `umaProviderRequiredCounterpartyCustomerFields` are also read-only and reflect provider-enforced requirements.
</Tip>

### Configuration Parameters

- **umaDomain**: Domain part of UMA addresses for your users (e.g., `$username@mycompany.com`).
- **webhookEndpoint**: HTTPS URL where the system sends webhook notifications.
- **supportedCurrencies**: Array of currency objects defining limits and required counterparty fields.
  - **currencyCode** (required): ISO 4217 code, e.g., `USD`.
  - **minAmount** (required): Minimum transaction amount in the smallest unit.
  - **maxAmount** (required): Maximum transaction amount in the smallest unit.
  - **requiredCounterpartyFields** (required): Array of `{ name, mandatory }` with PII required from external counterparties.
  - **enabledTransactionTypes**: Array of allowed transaction types, e.g., `OUTGOING`, `INCOMING`.
  - **umaProviderRequiredCustomerFields** (read-only): Provider-required user fields to transact in this currency.
  - **umaProviderRequiredCounterpartyCustomerFields** (read-only): Provider-required counterparty fields for this currency.

### Verify Changes

```http
GET /config
```

<Check>
The response should reflect your updated `umaDomain`, `webhookEndpoint`, and `supportedCurrencies`.
</Check>

<Warning>
PATCH may return 400 for validation errors, 401 for authentication issues, and 500/501 for server or unsupported operations.
</Warning>
