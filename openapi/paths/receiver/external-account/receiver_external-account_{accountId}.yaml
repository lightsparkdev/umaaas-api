get:
  summary: Look up an external account for payment
  description: >
    Lookup an external account by ID to determine supported currencies and
    exchange rates.

    This endpoint helps platforms determine what currencies they can send to a
    given external account, along with the current estimated exchange rates and
    minimum and maximum amounts that can be sent.
  operationId: lookupExternalAccount
  tags:
    - Cross-Currency Transfers
  security:
    - BasicAuth: []
  parameters:
    - name: accountId
      in: path
      description: System-generated ID of the external account
      required: true
      schema:
        type: string
        example: ExternalAccount:e85dcbd6-dced-4ec4-b756-3c3a9ea3d965
    - name: senderUmaAddress
      in: query
      description: UMA address of the sender (optional if customerId is provided)
      required: false
      schema:
        type: string
    - name: customerId
      in: query
      description: System ID of the sender (optional if senderUmaAddress is provided)
      required: false
      schema:
        type: string
  responses:
    '200':
      description: Successful lookup
      content:
        application/json:
          schema:
            allOf:
              - $ref: ../../../components/schemas/receiver/ReceiverLookupResponse.yaml
              - type: object
                required:
                  - accountId
                properties:
                  accountId:
                    type: string
                    description: The external account ID that was looked up
                    example: ExternalAccount:e85dcbd6-dced-4ec4-b756-3c3a9ea3d965
    '400':
      description: Bad request - Missing or invalid parameters
      content:
        application/json:
          schema:
            $ref: ../../../components/schemas/errors/Error400.yaml
    '401':
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: ../../../components/schemas/errors/Error401.yaml
    '404':
      description: External account not found
      content:
        application/json:
          schema:
            $ref: ../../../components/schemas/errors/Error404.yaml
    '412':
      description: Counterparty doesn't support UMA version
      content:
        application/json:
          schema:
            $ref: ../../../components/schemas/errors/Error412.yaml
    '424':
      description: Counterparty issue
      content:
        application/json:
          schema:
            $ref: ../../../components/schemas/errors/Error424.yaml
    '500':
      description: Internal service error
      content:
        application/json:
          schema:
            $ref: ../../../components/schemas/errors/Error500.yaml
