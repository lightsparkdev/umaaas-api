allOf:
  - $ref: ../common/ClabeAccountInfo.yaml
  - type: object
    required:
      - accountType
    properties:
      accountType:
        type: string
        enum: [CLABE]
        example: CLABE
      beneficiary:
        oneOf:
          - title: Individual Beneficiary
            allOf:
              - $ref: ./IndividualBeneficiary.yaml
              - type: object
                properties:
                  beneficiaryType:
                    type: string
                    enum: [INDIVIDUAL]
                    example: INDIVIDUAL
          - title: Business Beneficiary
            allOf:
              - $ref: ./BusinessBeneficiary.yaml
              - type: object
                properties:
                  beneficiaryType:
                    type: string
                    enum: [BUSINESS]
                    example: BUSINESS
        discriminator:
          propertyName: beneficiaryType
          mapping:
            INDIVIDUAL: ./IndividualBeneficiary.yaml
            BUSINESS: ./BusinessBeneficiary.yaml
