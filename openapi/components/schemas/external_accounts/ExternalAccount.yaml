type: object
required:
  - id
  - customerId
  - status
  - beneficiary
  - accountInfo
properties:
  id:
    type: string
    description: The system generated identifier of this account
    example: ExternalAccount:e85dcbd6-dced-4ec4-b756-3c3a9ea3d965
  customerId:
    type: string
    description: The customer this account is tied to
    example: Customer:da459a29-1fb7-41ce-a4cb-eb3a3c9fd7a7
  status:
    $ref: ../external_accounts/ExternalAccountStatus.yaml
    description: Status of the external account
    example: ACTIVE
  beneficiary:
    description: Beneficiary of the account
    oneOf:
      - title: Individual Counterparty
        $ref: ../counterparty/IndividualCounterParty.yaml
      - title: Business Counterparty
        $ref: ../counterparty/BusinessCounterParty.yaml
    discriminator:
      propertyName: counterpartyType
      mapping:
        INDIVIDUAL_COUNTERPARTY: ../counterparty/BusinessCounterParty.yaml
        BUSINESS_COUNTERPARTY: ../counterparty/IndividualCounterParty.yaml
  accountInfo:
    $ref: ../users/UserBankAccountInfo.yaml
