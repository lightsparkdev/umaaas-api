type: object
required:
  - transaction
  - timestamp
  - webhookId
  - type
properties:
  transaction:
    $ref: ../transactions/IncomingTransaction.yaml
  timestamp:
    type: string
    format: date-time
    description: >-
      ISO8601 timestamp when the webhook was sent (can be used to
      prevent replay attacks)
    example: '2023-08-15T14:32:00Z'
  webhookId:
    type: string
    description: >-
      Unique identifier for this webhook delivery (can be used for
      idempotency)
    example: Webhook:019542f5-b3e7-1d02-0000-000000000007
  type:
    $ref: ./WebhookType.yaml
    description: Type of webhook event
    example: INCOMING_PAYMENT
  requestedReceiverUserInfoFields:
    type: array
    items:
      $ref: ../common/CounterpartyFieldDefinition.yaml
    description: >-
      Information required by the sender's VASP about the recipient.
      Platform must provide these in the 200 OK response if approving.
      Note that this only includes fields which UMAaaS does not
      already have from initial user registration.
